<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>数独派对 Pro</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <canvas id="fireworks"></canvas>
    <div id="victoryBanner">Perfect! 数独通关</div>

    <div class="modal" id="resultModal" aria-modal="true" role="dialog" aria-labelledby="resultTitle" aria-describedby="resultBody">
      <div class="modal-card">
        <h3 id="resultTitle">结果</h3>
        <div id="resultBody"></div>
        <div class="modal-actions">
          <button id="resultRetry" class="primary">再来一局</button>
          <button id="resultClose">关闭</button>
        </div>
      </div>
    </div>

    <div class="modal settings-modal" id="settingsModal" aria-modal="true" role="dialog" aria-labelledby="settingsTitle">
      <div class="modal-card">
        <div class="settings-modal-header">
          <h3 id="settingsTitle">设置</h3>
          <button id="settingsClose">关闭</button>
        </div>
        <div class="settings-modal-body">
          <div class="settings-panel" id="settingsPanel">
            <div class="mode-row" id="modeRow">
              <button id="modeNormal">普通</button>
              <button id="modeDaily">每日挑战</button>
              <button id="copyDailyLink"><span class="btn-ico" aria-hidden="true">🔗</span>复制今日链接</button>
            </div>

            <div class="lang-row" id="langRow">
              <button id="langZh">中文</button>
              <button id="langEn">English</button>
            </div>

            <div class="action-row">
              <button id="autoCandidates"><span class="btn-ico" aria-hidden="true">⚙</span>自动候选</button>
              <button id="clearCandidates"><span class="btn-ico" aria-hidden="true">⊘</span>清空候选</button>
            </div>

            <div class="settings-row" id="settingsRow">
              <button id="muteBtn" aria-pressed="false"><span class="btn-ico" aria-hidden="true">🔊</span>静音</button>
              <button id="contrastBtn" aria-pressed="false"><span class="btn-ico" aria-hidden="true">◐</span>高对比</button>
              <button id="fontBtn" aria-pressed="false"><span class="btn-ico" aria-hidden="true">A+</span>大字号</button>
            </div>

            <div class="effect-row" id="effectRow">
              <button data-effect="low">特效低</button>
              <button data-effect="medium">特效中</button>
              <button data-effect="high">特效高</button>
            </div>

            <div class="slider-wrap">
              <span id="volumeLabel">音量</span>
              <input type="range" id="volumeSlider" min="0" max="1" step="0.01" />
              <span id="volumeText">70%</span>
            </div>

            <div class="action-row">
              <button id="exportData"><span class="btn-ico" aria-hidden="true">⬇</span>导出数据</button>
              <button id="importData"><span class="btn-ico" aria-hidden="true">⬆</span>导入数据</button>
              <input type="file" id="importFile" accept="application/json" hidden />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="app">
      <section class="panel top">
        <h1>数独派对 Pro</h1>
        <div class="meta-line">
          <div class="badge" id="meta">难度：中等</div>
          <div class="badge" id="modeBadge">模式：普通</div>
          <div class="badge" id="dayBadge">日期：--</div>
          <div class="badge" id="timer">计时：00:00</div>
          <div class="badge" id="score">得分：120</div>
        </div>
      </section>

      <section class="panel main">
        <div class="board-wrap">
          <div class="board" id="board" aria-label="Sudoku board"></div>
        </div>

        <div class="controls">
          <div class="difficulty-row" id="difficultyRow"></div>
          <div class="num-pad" id="numPad"></div>

          <div class="action-row">
            <button id="noteMode"><span class="btn-ico" aria-hidden="true">✎</span>笔记模式</button>
            <button id="undo"><span class="btn-ico" aria-hidden="true">↶</span>撤销</button>
            <button id="redo"><span class="btn-ico" aria-hidden="true">↷</span>重做</button>
            <button id="erase"><span class="btn-ico" aria-hidden="true">⌫</span>擦除</button>
            <button id="hint"><span class="btn-ico" aria-hidden="true">💡</span>提示</button>
            <button class="primary" id="newGame"><span class="btn-ico" aria-hidden="true">⟳</span>新布局</button>
            <button class="secondary" id="share"><span class="btn-ico" aria-hidden="true">🔗</span>分享进度</button>
            <button id="toggleSettings" aria-expanded="false"><span class="btn-ico" aria-hidden="true">⚙</span>设置</button>
          </div>

          <div class="board-stats">
            <div class="badge" id="filled">已填：0/81</div>
            <div class="badge" id="best">最佳：--:--</div>
            <div class="badge" id="danger">失败阈值：30</div>
          </div>

          <div class="leaderboard">
            <h2 id="leaderboardTitle">本地排行榜（前 5）</h2>
            <ol id="leaderboard"></ol>
          </div>

          <div class="info" id="status" aria-live="polite">点击一个空格开始。</div>
          <div class="toast" id="toast" role="status" aria-live="polite"></div>
        </div>
      </section>
    </div>
    <script type="module" src="src/main.js"></script>
  </body>
</html>
